#### 2021

In 2021, [the `Machine` function was deprecated by the `createMachine` function](http://web.archive.org/web/20211027231933/https://xstate.js.org/docs/guides/typescript.html#using-typescript) we all know and use nowadays.

#### Since 2022

[In 2022, the typegen was released](http://web.archive.org/web/20220127180524/https://xstate.js.org/docs/guides/typescript.html#typegen-with-the-vscode-extension) and became the recommended and most robust way to type machines.

To type the context and the events, we needed to define them through the schema property described in the configuration object of machines.

Initially, types could only be generated by Stately’s VS Code extension, but the Stately team quickly released a CLI agnostic from the editor developers use.

It’s interesting to note that, at first, [it was recommended to commit the generated files](http://web.archive.org/web/20220127180524/https://xstate.js.org/docs/guides/typescript.html#the-generated-files) due to the lack of a tool that can run in CI/CD environments.

When the CLI was released, [the Stately team recommended not committing these files](http://web.archive.org/web/20230412184405/https://xstate.js.org/docs/guides/typescript.html#typegen); some people are still committing these files for simplicity.

Thanks to the typegen, actions, guards, delays, and services receive an event argument restricted to the only events (the user-defined events and the internal events, such as the done event of an invocation) that can lead to them being called.

This drastically improves the type-safety of machines and eases the development, as previously, we had to narrow the event type at runtime with functions like [`assertEventType`](https://github.com/statelyai/xstate/discussions/1591#discussioncomment-111941).

Currently, the typegen is used by **59%** of the respondents to the survey.
